<!DOCTYPE html>
<html>
    <head>
        <meta charset='UTF-8' />
        <link rel='stylesheet' href='normalize.css' />
        <link rel='stylesheet' href='style.css' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0' />
        <title>Alan McKay | Writings</title>

        <meta name="author" content="Alan McKay" />
        <meta name='title' property='og:title' content='Alan McKay | Writings' />
        <meta name='description' property='og:description' content='Various observations and musings of life and and its experiences' />
        <meta name='image' property='og:image' content='http://alanmckay.blog/images/text-logo-image.png' />

        <meta property='og:type' content='website' />
        <meta property='og:url' content='http://alanmckay.blog/writings.html' />

        <meta name="robots" content="noindex, follow" />

    </head>
    <body>
        <div id='homeWrapper'>
            <header>
                <h1><a href='index.html'>Alan McKay</a></h1>
            </header>
            <nav>
                <a href='writings.html'>
                    <img src='images/text-logo-grey.png' alt='Icon for blog link'>
                    Writings
                </a>
                <a href='flow.html' class='writing'> Flow</a>
                <a href='sound.html' class='writing'> The Connectivity of Sound</a>
                <a href='social.html' class='writing'> Social Media</a>
                <a href='leaf.html' class='writing'> Leaves</a>
                <a href='statement_of_purpose.html' class='writing'> Statement of Purpose</a>
                <a href='#' class='writing'>Test</a>
                <a href='#' class='writing'>Test</a>
                <a href='#' class='writing'>Test</a>
                <a href='#' class='writing'>Test</a>
                <a href='#' class='writing'>Test</a>
                <a href='#' class='writing'>Test</a>
            </nav>
        </div>
    </body>
    <script>
        var isMobile = window.matchMedia || window.msMatchMedia

        /* Exercise: Need to abstract the styles being changed */

        function primeBorders(transition){
            if (isMobile("(pointer:coarse)").matches){
            writings = document.getElementsByClassName("writing");
                for (i = 0; i < writings.length; i++){
                    writing = writings[i];
                    if (transition == true){
                        writing.style['transition'] = 'border-left .20s';
                    }else{
                        writing.style['transition'] = 'border-left 0s';
                    }
                    bound = writing.getBoundingClientRect();
                    //if (bound.y > screen.height){
                        writing.style['border-left'] = 'solid 1px';
                    //}
                }
            }
        }

        function scrollEffect() {
            if (isMobile("(pointer:coarse)").matches){
                height = screen.height;
                threshold = 35;
                writings = document.getElementsByClassName("writing");
                for (i = 0; i < writings.length; i++){
                    writing = writings[i];
                    writing.style['transition'] = 'border-left .20s';
                    bound = writing.getBoundingClientRect();
                    if (bound.y < height - threshold){
                        writing.style['border-left'] = 'solid 3px';
                    }
                    if ((bound.y < 0) || (bound.y > height - threshold)){
                        writing.style['border-left'] = 'solid 0px';
                    }
                }
            }
        }

        primeBorders(false);

        /*window.onscroll = function(ev){
            scrollEffect();
        }*/

        window.ontouchmove = function(ev){
            scrollEffect();
        }

        window.ontouchstart = function(ev){
            scrollEffect();
        }

        window.ontouchend = function(ev){
            primeBorders(true);
        }
    </script>
</html>
